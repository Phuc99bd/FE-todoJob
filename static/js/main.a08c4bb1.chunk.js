(this.webpackJsonpfe=this.webpackJsonpfe||[]).push([[0],{157:function(e,t,a){e.exports=a(188)},162:function(e,t,a){},188:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(53),o=a.n(c),u=(a(162),a(54)),l=a(55),i=a(60),s=a(61),m=a(21),p=a.n(m),f=a(8),d=a(137),E=a(64),b=a(12),v={loading:!1,error:null,success:null},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_LOGIN_REQUEST":return Object(b.a)({},e,{loading:!0});case"AUTH_LOGIN_COMPLETED":return Object(b.a)({},e,{token:t.token,loading:!1});case"AUTH_FALTURE":return Object(b.a)({},e,{loading:!1,error:t.error,success:null});case"REGISTER_COMPLETED":return Object(b.a)({},e,{success:t.success,error:null});default:return e}},g=a(154),j={arrJob:[],numOfJob:1,keyword:"",pages:1,sortByName:1,sortByActive:0,status:!1,loading:!1,success:null},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0,a=Object(b.a)({},t.data);switch(a.loading=!1,delete a.type,t.type){case"GET_JOB":return Object(b.a)({},e,{},a);case"GET_REQUEST":return Object(b.a)({},e,{loading:!0});case"SEARCH_JOB":return Object(b.a)({},e,{keyword:t.keyword});case"ADD_JOB":return Object(b.a)({},e,{arrJob:[t.item].concat(Object(g.a)(e.arrJob))});case"DELETE_JOB":return Object(b.a)({},e,{arrJob:e.arrJob.filter((function(e){return e._id!==t._id}))});case"PAGINATION":return Object(b.a)({},e,{pages:t.pages});case"CHANGE_STATUS":return Object(b.a)({},e,{status:!e.status});case"UPDATE_JOB":return e.arrJob.forEach((function(e){e._id===t.item._id&&(e=t.item)})),Object(b.a)({},e);case"SORT_BY_NAME":return Object(b.a)({},e,{sortByName:t.sortByName});case"SORT_BY_ACTIVE":return Object(b.a)({},e,{sortByActive:t.sortByActive});case"UPDATE_COMPLETE":return Object(b.a)({},e,{success:t.message});default:return e}},O=Object(E.c)({auth:h,job:y}),w=Object(E.e)(O,Object(E.d)(Object(E.a)(d.a))),k=a(40),T=a(67),N=a(7),x=a.n(N),J=a(13),S=a(46),A=a(205),_=a(193),B=a(194),C=a(195),I=a(143),R=function(e){return{type:"AUTH_FALTURE",error:e}},D=function(){return{auth:Object(f.useSelector)((function(e){return e.auth}))}},P=a(23),U=a(30),L=a(141),F=a(145),G=U.a().shape({email:U.b().email("Invalid email").required("Required"),password:U.b().min(2,"Vui l\xf2ng kh\xf4ng b\u1ecf tr\u1ed1ng password")}),K=function(e){var t=e.loading,a=e.submitForm,n=e.showError;return r.a.createElement("div",null,r.a.createElement(P.c,{initialValues:{email:"",password:""},validationSchema:G,onSubmit:function(e){var t=e.email,n=e.password;a(t,n)}},(function(e){var a=e.errors,c=e.touched;return r.a.createElement(P.b,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Email address"),r.a.createElement(P.a,{name:"email",type:"email",className:"form-control",placeholder:"Enter email"}),a.email&&c.email?r.a.createElement("div",{className:"text-danger"},a.email):null),r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Password"),r.a.createElement(P.a,{type:"password",name:"password",className:"form-control",placeholder:"Password"}),a.password&&c.password?r.a.createElement("div",{className:"text-danger"},a.password):null),r.a.createElement("div",{className:"form-group"},n()),r.a.createElement("div",{className:"form-group"},r.a.createElement(k.b,{to:"/register"},"If you don't have account,Please Register")),r.a.createElement("div",{className:"form-group"},r.a.createElement(F.a,{variant:"primary",type:"submit"},t())))})))},H=function(){return new Promise(function(){var e=Object(J.a)(x.a.mark((function e(t,a){var n,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=localStorage.getItem("tokenKey")){e.next=4;break}return e.abrupt("return",t(!1));case 4:if(r=JSON.parse(n),!((new Date).getTime()>r.expiry)){e.next=8;break}return e.abrupt("return",t(!1));case 8:return e.next=10,p.a.get("/verify").then((function(e){return console.log(e.data.success),e.data.success?t(!0):t(!1)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(!1);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,a){return e.apply(this,arguments)}}())},V=function(){var e=D().auth,t=Object(f.useDispatch)(),a=Object(n.useState)(!1),c=Object(S.a)(a,2),o=c[0],u=c[1];Object(n.useEffect)((function(){i()}),[]);var l=function(e,a){return t(function(e,t){return function(){var a=Object(J.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"AUTH_LOGIN_REQUEST"}),a.next=4,p.a.post("/login",{email:e,password:t});case 4:(r=a.sent).data.error?n(R(r.data.error)):n({type:"AUTH_LOGIN_COMPLETED",token:r.data.token}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0.response?n(R(a.t0.response.data)):n(R(a.t0));case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(e,a))};if(e.token&&""!==e.token)return r.a.createElement(T.a,{to:"/"});var i=function(){var e=Object(J.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:!0===e.sent&&u(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(o)return r.a.createElement(T.a,{to:"/"});return r.a.createElement(B.a,null,r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(I.a,{md:6},r.a.createElement("h1",null,"\u0110\u0103ng nh\u1eadp Todo Job"),r.a.createElement(K,{loading:function(){return e.loading?r.a.createElement(_.a,{animation:"grow",variant:"primary"}):"Login"},submitForm:function(e,t){return l(e,t)},showError:function(){return function(){if(e.error)return r.a.createElement(A.a,{variant:"danger"},e.error)}()}}))))},q=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(V,null)}}]),a}(n.Component),M=U.a().shape({fullname:U.b().min(3,"Full name t\u1ed1i thi\u1ec3u 3 k\xed t\u1ef1").required("Required"),email:U.b().email("Invalid email").required("Required"),password:U.b().min(2,"Vui l\xf2ng kh\xf4ng b\u1ecf tr\u1ed1ng password").required("Required")}),Y=function(e){var t=e.loading,a=e.submitForm,n=e.showError,c=e.showSuccess;return r.a.createElement("div",null,r.a.createElement(P.c,{initialValues:{fullname:"",email:"",password:""},validationSchema:M,onSubmit:function(e){var t=e.fullname,n=e.email,r=e.password;a(t,n,r)}},(function(e){var a=e.errors,o=e.touched;return r.a.createElement(P.b,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Fullname"),r.a.createElement(P.a,{name:"fullname",type:"text",className:"form-control",placeholder:"Enter fullname"}),a.email&&o.email?r.a.createElement("div",{className:"text-danger"},a.fullname):null),r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Email address"),r.a.createElement(P.a,{name:"email",type:"email",className:"form-control",placeholder:"Enter email"}),a.email&&o.email?r.a.createElement("div",{className:"text-danger"},a.email):null),r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Password"),r.a.createElement(P.a,{type:"password",name:"password",className:"form-control",placeholder:"Password"}),a.password&&o.password?r.a.createElement("div",{className:"text-danger"},a.password):null),r.a.createElement("div",{className:"form-group"},n()),r.a.createElement("div",{className:"form-group"},c()),r.a.createElement("div",{className:"form-group"},r.a.createElement(k.b,{to:"/login"},"If you have account,Please Login")),r.a.createElement("div",{className:"form-group"},r.a.createElement(F.a,{variant:"primary",type:"submit"},t())))})))},Q=function(){var e=D().auth,t=Object(f.useDispatch)(),a=function(e,a,n){return t(function(e,t,a){return function(){var n=Object(J.a)(x.a.mark((function n(r){var c;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"AUTH_LOGIN_REQUEST"}),n.next=4,p.a.post("/register",{name:e,email:t,password:a});case 4:(c=n.sent).data.error?r(R(c.data.error)):r({type:"REGISTER_COMPLETED",success:"\u0110\u0103ng k\xed th\xe0nh c\xf4ng."}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),n.t0.response?r(R(n.t0.response.data)):r(R(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(e,a,n))};if(e.user&&""!=e.user)return r.a.createElement(T.a,{to:"/"});return r.a.createElement(B.a,null,r.a.createElement(C.a,{className:"justify-content-md-center"},r.a.createElement(I.a,{md:6},r.a.createElement("h1",null,"Register Account Todo Job"),r.a.createElement(Y,{loading:function(){return e.loading?r.a.createElement(_.a,{animation:"grow",variant:"primary"}):"Register"},submitForm:function(e,t,n){return a(e,t,n)},showError:function(){return function(){if(e.error)return r.a.createElement(A.a,{variant:"danger"},e.error)}()},showSuccess:function(){return function(){if(e.success)return r.a.createElement(A.a,{variant:"success"},e.success)}()}}))))},W=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(Q,null)}}]),a}(n.Component),X=a(204),Z=a(206),$=a(196),z=function(){return new Promise(function(){var e=Object(J.a)(x.a.mark((function e(t,a){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/user");case 3:n=e.sent,t(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}())},ee=function(){var e=Object(n.useState)(""),t=Object(S.a)(e,2),a=t[0],c=t[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(J.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:(t=e.sent).error?c("error"):c(t.user);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(X.a,{collapseOnSelect:!0,expand:"lg",bg:"dark",variant:"dark"},r.a.createElement(X.a.Brand,{href:"#home"},"Todo Job"),r.a.createElement(X.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(X.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(Z.a,{className:"mr-auto"},r.a.createElement(Z.a.Link,{href:"/"},"Home Page")),r.a.createElement(Z.a,null,r.a.createElement($.a,{title:a.name,id:"collasible-nav-dropdown"},r.a.createElement($.a.Item,{href:"/logout"},"Logout")),r.a.createElement(Z.a.Link,{href:"#"}))))},te=a(198),ae=function(){return r.a.createElement(te.a,{style:{"text-align":"center"}},r.a.createElement(B.a,null,r.a.createElement("h1",null,"Qu\u1ea3n l\xfd Job"),r.a.createElement("p",null,"Building for React-Redux , pattern Hook")))},ne=a(203),re=a(202),ce=function(e){return function(){var t=Object(J.a)(x.a.mark((function t(a){var n;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:"GET_REQUEST"}),t.next=3,p.a.get("/job/allJob",{params:{page:e.job.pages,sortByActive:e.job.sortByActive,sortByName:e.job.sortByName,keyword:e.job.keyword}});case 3:(n=t.sent).data.arrJob&&a({type:"GET_JOB",data:n.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=function(e){return{type:"DELETE_JOB",_id:e}},ue=function(e){return{type:"SEARCH_JOB",keyword:e}},le=function(e){return{type:"SORT_BY_NAME",sortByName:e}},ie=function(e){return{type:"SORT_BY_ACTIVE",sortByActive:e}},se=function(e){return{type:"PAGINATION",pages:e}},me=function(e){return{type:"UPDATE_JOB",item:e}},pe=a(84),fe=a.n(pe),de=a(98),Ee=function(e){var t=e.submitForm,a=e.changeSTT,c=e.id,o=e.nameJob,u=e.active,l=Object(n.useState)(""),i=Object(S.a)(l,2),s=i[0],m=i[1],p=Object(n.useState)(o),f=Object(S.a)(p,2),d=f[0],E=f[1],b=Object(n.useState)(u),v=Object(S.a)(b,2),h=v[0],g=v[1];return r.a.createElement("tr",null,r.a.createElement("td",null,c),r.a.createElement("td",null,r.a.createElement(ne.a.Control,{name:"nameJob",type:"text",className:"form-control",placeholder:"Enter nameJob",defaultValue:o,onChange:function(e){return function(e){""==e.target.value?m("Vui l\xf2ng kh\xf4ng b\u1ecf tr\u1ed1ng t\xean c\xf4ng vi\u1ec7c."):m(""),E(e.target.value)}(e)}}),s?r.a.createElement("div",{className:"text-danger"},s):null),r.a.createElement("td",null,r.a.createElement(ne.a.Control,{as:"select",name:"active",className:"form-control",defaultValue:u,onChange:function(e){return g(e.target.value)}},r.a.createElement("option",{value:!0},"K\xedch ho\u1ea1t"),r.a.createElement("option",{value:!1},"\u1ea8n"))),r.a.createElement("td",null,r.a.createElement(F.a,{variant:"danger",type:"submit",onClick:function(){return function(){if(""===d)return m("Vui l\xf2ng kh\xf4ng b\u1ecf tr\u1ed1ng t\xean c\xf4ng vi\u1ec7c."),!1;t(c,d,h)}()}},"Update"),r.a.createElement(F.a,{variant:"primary",type:"submit",onClick:function(){return a()}},"Cancel")))},be=function(e){var t=e.id,a=e.nameJob,n=e.active,c=e.changeSTT,o=e.props,u=Object(f.useDispatch)(),l=function(e,t,a){var n;u((n={id:e,nameJob:t,active:a},function(){var e=Object(J.a)(x.a.mark((function e(t){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p()({url:"/job/update/".concat(n.id),method:"PUT",data:{nameJob:n.nameJob,active:n.active}});case 2:a=e.sent,t({type:"UPDATE_COMPLETE",message:a.data.message}),t(me(a.data.job));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),u(ce(o)),fe.a.fire("Update complete!","Update Job with Id: ".concat(e," successfully!"),"success"),c()};return r.a.createElement(Ee,Object(de.a)({id:t,nameJob:a,active:n,changeSTT:function(){return c()},submitForm:function(e,t,a){return l(e,t,a)}},"changeSTT",(function(){return c()})))},ve=function(e){var t=e.id,a=e.name,c=e.active,o=e.props,u=Object(n.useState)(!1),l=Object(S.a)(u,2),i=l[0],s=l[1],m=Object(f.useDispatch)(),d=function(){fe.a.fire({title:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng?",text:"You will not be able to recover this imaginary element!",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!",cancelButtonText:"No, keep it"}).then((function(e){e.value&&(m(function(e){return function(){var t=Object(J.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.a.delete("/job/delete/".concat(e));case 2:a(oe(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t)),fe.a.fire("Deleted!","Your element has been deleted.","success"))}))};return r.a.createElement(r.a.Fragment,null,i?r.a.createElement(be,{props:o,id:t,nameJob:a,active:c,changeSTT:function(){return s(!i)}}):r.a.createElement("tr",null,r.a.createElement("td",null,t),r.a.createElement("td",null,a),r.a.createElement("td",null,c?"K\xedch ho\u1ea1t":"\u1ea8n"),r.a.createElement("td",null,r.a.createElement("button",{className:"btn btn-warning",onClick:function(){return s(!i)}},r.a.createElement("i",{className:"fa fa-edit"}),"S\u1eeda"),r.a.createElement("button",{className:"btn btn-danger",onClick:function(){return d()}},r.a.createElement("i",{className:"fa fa-edit"}),"X\xf3a"))))},he=U.a().shape({nameJob:U.b().min(2,"Vui l\xf2ng kh\xf4ng b\u1ecf tr\u1ed1ng nameJob.").required("Required")}),ge=function(e){var t=e.submitForm,a=e.changeSTT;return r.a.createElement("div",null,r.a.createElement(P.c,{initialValues:{nameJob:"",active:!0},validationSchema:he,onSubmit:function(e){var a=e.nameJob,n=e.active;t(a,n)}},(function(e){var t=e.errors,n=e.touched;return r.a.createElement(P.b,null,r.a.createElement("div",{className:"form-group"},r.a.createElement(A.a,{variant:"primary"},"T\xean c\xf4ng vi\u1ec7c "),r.a.createElement(P.a,{name:"nameJob",type:"text",className:"form-control",placeholder:"Enter nameJob"}),t.nameJob&&n.nameJob?r.a.createElement("div",{className:"text-danger"},t.nameJob):null),r.a.createElement("div",{className:"form-group"},r.a.createElement(L.a,null,"Tr\u1ea1ng th\xe1i"),r.a.createElement(P.a,{as:"select",name:"active",className:"form-control"},r.a.createElement("option",{value:!0},"K\xedch ho\u1ea1t"),r.a.createElement("option",{value:!1},"\u1ea8n"))),r.a.createElement("div",{className:"form-group"},r.a.createElement(F.a,{variant:"danger",type:"button",className:"form-control",onClick:function(){return a()}},"X")),r.a.createElement("div",{className:"form-group"},r.a.createElement(F.a,{variant:"primary",type:"submit",className:"form-control"},"Th\xeam m\u1edbi")))})))},je=function(e){var t=e.changeSTT,a=Object(f.useDispatch)(),n=function(e,t){a(function(e,t){return function(){var a=Object(J.a)(x.a.mark((function a(n){var r;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.a.post("/job/add",{nameJob:e,active:t});case 2:(r=a.sent).data.job&&n((c=r.data.job,{type:"ADD_JOB",item:Object(b.a)({},c)}));case 4:case"end":return a.stop()}var c}),a)})));return function(e){return a.apply(this,arguments)}}()}(e,t))};return r.a.createElement(I.a,{md:3},r.a.createElement(ge,{submitForm:function(e,t){return n(e,t)},changeSTT:function(){return t()}}))},ye=function(e){var t=e.props,a=Object(f.useDispatch)(),n=function(e){var n;a((n=e.target.value,function(){var e=Object(J.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ue(n));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),t.job.keyword=e.target.value,a(ce(t))};return r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search name Job....",defaultValue:t.job.keyword,onChange:function(e){return n(e)}})},Oe=a(8),we=Oe.useSelector,ke=Oe.shallowEqual,Te=function(){return{job:Object(b.a)({},we((function(e){return e.job})),{},we((function(e){return e.auth.user}),ke))}},Ne=a(199),xe=a(200),Je=a(39),Se=a(201),Ae=function(e){var t=e.props,a=Object(f.useDispatch)(),n=function(e){a(function(e){return function(){var t=Object(J.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(le(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t.job.sortByName=e,a(ce(t))},c=function(e){a(function(e){return function(){var t=Object(J.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(ie(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t.job.sortByActive=e,a(ce(t))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ne.a,{as:xe.a,className:"m-3",variant:"danger",title:"S\u1eafp x\u1ebfp"},r.a.createElement(Je.a.Item,{eventKey:"1",onClick:function(){return n(1)}},r.a.createElement("span",null,"S\u1eafp x\u1ebfp t\u1eeb A-Z \xa0\xa0"),1===t.job.sortByName&&r.a.createElement(Se.a,{pill:!0,variant:"secondary"},"x")),r.a.createElement(Je.a.Item,{eventKey:"2",onClick:function(){return n(-1)}},r.a.createElement("span",null,"S\u1eafp x\u1ebfp t\u1eeb Z-A \xa0\xa0")," ",-1===t.job.sortByName&&r.a.createElement(Se.a,{pill:!0,variant:"secondary"},"x"))),r.a.createElement(Ne.a,{as:xe.a,className:"m-3",variant:"danger",title:0===t.job.sortByActive?"T\u1ea5t c\u1ea3":-1===t.job.sortByActive?"K\xedch ho\u1ea1t":"\u1ea8n"},r.a.createElement(Je.a.Item,{eventKey:"1",onClick:function(){return c(0)}},r.a.createElement("span",null,"T\u1ea5t c\u1ea3 \xa0\xa0"),0===t.job.sortByActive&&r.a.createElement(Se.a,{pill:!0,variant:"secondary"},"x")),r.a.createElement(Je.a.Item,{eventKey:"2",onClick:function(){return c(-1)}},r.a.createElement("span",null," K\xedch ho\u1ea1t \xa0\xa0"),"  ",-1===t.job.sortByActive&&r.a.createElement(Se.a,{pill:!0,variant:"secondary"},"x")),r.a.createElement(Je.a.Item,{eventKey:"3",onClick:function(){return c(1)}},r.a.createElement("span",null," \u1ea8n \xa0\xa0"),"  ",1===t.job.sortByActive&&r.a.createElement(Se.a,{pill:!0,variant:"secondary"},"x"))))},_e=a(207),Be=function(e){var t=e.props,a=Object(f.useDispatch)(),n=function(e){console.log(e),a(function(e){return function(){var t=Object(J.a)(x.a.mark((function t(a){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(se(e));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),t.job.pages=e,a(ce(t))};return r.a.createElement(_e.a,null,1!==t.job.pages&&t.job.numOfJob>1&&r.a.createElement(_e.a.First,{onClick:function(){return n(1)}}),t.job.pages>1&&t.job.numOfJob>1&&r.a.createElement(_e.a.Prev,{onClick:function(){return n(t.job.pages-1)}}),function(){for(var e=[],a=1;a<=t.job.numOfJob;a++)e.push(a);return e.map((function(e){var a=t.job.pages===e;return r.a.createElement(_e.a.Item,{key:e,onClick:function(){return n(e)},active:a},e)}))}(),t.job.pages!==t.job.numOfJob&&t.job.numOfJob>1&&r.a.createElement(_e.a.Next,{onClick:function(){return n(t.job.pages+1)}}),t.job.pages!==t.job.numOfJob&&r.a.createElement(_e.a.Last,{onClick:function(){return n(t.job.numOfJob)}}))},Ce=function(){var e=Object(f.useDispatch)(),t=Te();Object(n.useEffect)((function(){e(ce(t))}),[]);var a=t.job.status?9:12,c=function(){e(function(){var e=Object(J.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:"CHANGE_STATUS"});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return r.a.createElement(B.a,null,r.a.createElement(C.a,null,t.job.status?r.a.createElement(je,{changeSTT:function(){return c()}}):"",r.a.createElement(I.a,{md:a},r.a.createElement(ne.a.Group,{className:"d-inline-block w-100"},!t.job.status&&r.a.createElement(F.a,{variant:"primary",type:"button",onClick:function(){return c()}},"Th\xeam c\xf4ng vi\u1ec7c"),r.a.createElement(Ae,{props:t}),r.a.createElement("hr",null),r.a.createElement(ye,{props:t})),r.a.createElement(re.a,{striped:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"Name Job"),r.a.createElement("th",null,"Tr\u1ea1ng th\xe1i"),r.a.createElement("th",null,"Action"))),r.a.createElement("tbody",null,t.job.arrJob.map((function(e){return r.a.createElement(ve,{key:e._id,id:e._id,name:e.nameJob,active:e.active,props:t})})))),function(){if(t.job.loading)return r.a.createElement(_.a,{animation:"grow",variant:"primary"})}(),r.a.createElement(Be,{props:t}))))},Ie=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,null),r.a.createElement(ae,null),r.a.createElement(Ce,null))}}]),a}(n.Component),Re=function(){return localStorage.removeItem("tokenKey"),r.a.createElement(T.a,{to:"/login"})},De=a(155),Pe=function(e){var t=e.component,a=Object(De.a)(e,["component"]);return r.a.createElement(T.b,Object.assign({},a,{render:function(e){return localStorage.getItem("tokenKey")?r.a.createElement(t,e):r.a.createElement(T.a,{to:{pathname:"/login",state:{from:e.location}}})}}))};p.a.defaults.baseURL="https://chiseled-easy-poinsettia.glitch.me",p.a.interceptors.request.use((function(e){if("/login"===window.location.href)return e;var t=localStorage.getItem("tokenKey");if(t){var a=JSON.parse(t);(new Date).getTime()>a.expiry?localStorage.removeItem("tokenKey"):e.headers["x-access-token"]=a.token}return e})),p.a.interceptors.response.use((function(e){var t;if("/login"===window.location.href)return e;var a=(null===(t=e.data)||void 0===t?void 0:t.token)||null;if(a){var n={token:a,expiry:(new Date).getTime()+864e5};localStorage.setItem("tokenKey",JSON.stringify(n))}return e}),(function(e){return Promise.reject(e)}));var Ue=function(e){Object(s.a)(a,e);var t=Object(i.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement(f.Provider,{store:w},r.a.createElement(k.a,null,r.a.createElement(T.b,{path:"/login",component:q}),r.a.createElement(T.b,{path:"/register",component:W}),r.a.createElement(Pe,{path:"/",exact:!0,component:Ie}),r.a.createElement(T.b,{path:"/logout",exact:!0,component:Re})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[157,1,2]]]);
//# sourceMappingURL=main.a08c4bb1.chunk.js.map